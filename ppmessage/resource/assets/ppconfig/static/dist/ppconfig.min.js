function $yvAjaxService(t,e,n,o,a){var s=function(t,e){return e=e||{},t="/ppconfig"+t,n({method:"POST",cache:!1,url:t,data:e})},i={NO_ERR:0};return{status:function(){var t="/status",e={};return s(t,e)},database:function(t){var e="/database";return s(e,t)},first:function(){var t="/first",e={};return s(t,e)},ios:function(){var t="/ios",e={};return s(t,e)},android:function(){var t="/android",e={};return s(t,e)},API_ERR:i}}function InitializeDatabaseController(t,e,n){var o={SQLITE:"SQLITE",MYSQL:"MYSQL",PGSQL:"PGSQL"};t.database={type:o.SQLITE,types:angular.copy(o),sqlite:{db_file_path:"/user/local/var/db/sqlite/ppmessage.db"},mysql:{db_host:"127.0.0.1",db_port:"3306",db_user:"root",db_password:"password",db_name:"ppmessage"},pgsql:{db_host:"127.0.0.1",db_port:"5432",db_user:"postgresql",db_password:"password",db_name:"ppmessage"}},t.hide=function(){e.hide()},t.cancel=function(){e.cancel()},t.answer=function(t){e.hide(t)},t.should_show_mysql=function(){return t.database.type==o.MYSQL},t.should_show_sqlite=function(){return t.database.type==o.SQLITE},t.should_show_pgsql=function(){return t.database.type==o.PGSQL},t.confirm=function(){n.database(t.database).success(function(){console.log("database create successfully"),e.hide("success")}).error(function(){console.log("database create failed")})}}function CreateFirstController(t,e,n){var o={CHINESE:"CHINESE",ENGLISH:"ENGLISH"};t.user={languages:angular.copy(o),user_fullname:"Guijin Ding",user_email:"dingguijin@gmail.com",user_password:"YouGiveLoveABadName",user_language:o.CHINESE,team_name:"PPMessage"},t.hide=function(){e.hide()},t.cancel=function(){e.cancel()},t.answer=function(t){e.hide(t)},t.confirm=function(){n.first().success(function(){console.log("first user successfully"),e.hide("success")}).error(function(){console.log("first user create failed")})}}function ConfigIOSController(t,e,n){t.ios={dev_cert_file_path:null,dev_cert_password:null,pro_cert_file_path:null,pro_cert_password:null},t.hide=function(){e.hide()},t.cancel=function(){e.cancel()},t.answer=function(t){e.hide(t)},t.confirm=function(){e.hide("success")},t.pass=function(){n.ios().success(function(){console.log("ios successfully"),e.hide("success")}).error(function(){console.log("ios failed")})}}function ConfigAndroidController(t,e,n){var o={MQTT:"MQTT",GCM:"GCM",JPUSH:"JPUSH"};t.android={type:o.MQTT,types:angular.copy(o),gcm:{api_key:"AIzaSyArXf60KTz2KwROtzAlQDJozAskFAdvzBF"},jpush:{master_secret:null}},t.hide=function(){e.hide()},t.cancel=function(){e.cancel()},t.answer=function(t){e.hide(t)},t.confirm=function(){n.android().success(function(){console.log("android successfully"),e.hide("success")}).error(function(){console.log("android failed")})},t.pass=function(){e.hide("success")},t.should_show=function(e){return t.android.type==e}}function RestartController(t,e){t.hide=function(){e.hide()},t.cancel=function(){e.cancel()},t.answer=function(t){e.hide(t)},t.confirm=function(){e.hide("success")},t.pass=function(){e.hide("success")}}InitializeDatabaseController.$inject=["$scope","$mdDialog","yvAjax"],CreateFirstController.$inject=["$scope","$mdDialog","yvAjax"],ConfigIOSController.$inject=["$scope","$mdDialog","yvAjax"],ConfigAndroidController.$inject=["$scope","$mdDialog","yvAjax"],RestartController.$inject=["$scope","$mdDialog"],function(){window&&void 0===window.ppconsole&&(window.ppconsole={version:"0.0.0.2"})}(),function(){for(var t,e=function(){},n=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],o=n.length,a=window.console=window.console||{};o--;)t=n[o],a[t]||(a[t]=e)}(),angular.module("this_app.services",[]),angular.module("this_app",["720kb.tooltips","base64","ngCookies","ngAnimate","toastr","angularUtils.directives.dirPagination","angularFileUpload","blockUI","ui.router","ngMaterial","this_app.constants","this_app.i18n","this_app.route","this_app.services"]).run(["$rootScope","$location","$timeout",function(t,e,n){window.PP&&PP.boot({app_uuid:"a600998e-efff-11e5-9d9f-02287b8c0ebf"},function(t,e){console.log("PPCOM boot: ",e)})}]),angular.module("this_app.constants",[]).constant("yvConstants",{TEMPLATE_PREFIX:"templates/",STATIC_PREFIX:"/ppconfig/static/"}),angular.module("this_app.i18n",["pascalprecht.translate"]).constant("yvTransTags",{en:{COPYRIGHT_PPMESSAGE:"PPMessage."},cn:{COPYRIGHT_PPMESSAGE:"PPMessage."}}).config(["$translateProvider","yvTransTags",function(t,e){t.translations("en",e.en),t.translations("zh-CN",e.cn),t.registerAvailableLanguageKeys(["en","zh-CN"],{en:"en","en-US":"en","en-UK":"en","zh-CN":"zh-CN"}),t.determinePreferredLanguage(function(){return window.navigator.userLanguage||window.navigator.language}),t.fallbackLanguage("en","zh-CN")}]),angular.module("this_app.route",["ui.router","this_app.constants"]).config(["$stateProvider","$urlRouterProvider","yvConstants","blockUIConfig",function(t,e,n,o){o.autoInjectBodyBlock=!1,t.state("app",{"abstract":!0,url:"/app",templateUrl:"templates/app.html",controller:"AppCtrl"}).state("app.config",{url:"/config",templateUrl:"templates/config.html",controller:"ConfigCtrl"}),e.otherwise("/app/config")}]),$yvAjaxService.$inject=["$state","$timeout","$http","$cookies","yvConstants"],angular.module("this_app.services").factory("yvAjax",$yvAjaxService),angular.module("this_app").controller("AppCtrl",["$window","$scope","$rootScope","$location","$state","$translate","$timeout","$cookies","$filter","toastr","yvAjax",function(t,e,n,o,a,s,i,r,l,c,u){e.thisYear=(new Date).getUTCFullYear(),e._languages=[{lang:"zh-CN"},{lang:"en"}];e.ppmessage=function(){window.open("https://ppmessage.com")},e.switch_to_english=function(){s.use("en")},e.switch_to_chinese=function(){s.use("zh-CN")},e.is_lang_english=function(){var t=s.use();return"en"==t},e.toast_error_string=function(t){var e=l("translate")("global."+t);i(function(){c.error(e)})},e.toast_success_string=function(t){var e=l("translate")("global."+t);i(function(){c.success(e)})},e.$on("$destroy",function(){});var d=function(){};d()}]),angular.module("this_app").controller("ConfigCtrl",["$scope","$state","$stateParams","$timeout","$translate","$mdDialog","yvAjax",function(t,e,n,o,a,s,i){var r={NONE:0,DATABASE:1,FIRST:2,IOS:3,ANDROID:4,RESTART:5},l=r.NONE;t.get_database_status=function(){return l==r.NONE?"N/A":"OK"},t.get_first_status=function(){return l>=r.FIRST?"OK":"N/A"},t.get_apns_status=function(){return l>=r.IOS?"OK":"N/A"},t.get_android_push_status=function(){return l==r.ANDROID?"OK":"N/A"},t.should_disable_initialize_database=function(){return l!=r.NONE},t.should_disable_create_first=function(){return l!=r.DATABASE},t.should_disable_config_apns=function(){return l!=r.FIRST},t.should_disable_config_android_push=function(){return l!=r.IOS},t.should_disable_restart=function(){return!(l>=r.ANDROID)},t.initialize_database=function(e){s.show({controller:InitializeDatabaseController,templateUrl:"templates/dialog/initialize-database.tmpl.html",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0}).then(function(e){t.status='You said the information was "'+e+'".',l=r.DATABASE},function(){t.status="You cancelled the dialog.",console.log(t.status)})},t.create_first=function(e){s.show({controller:CreateFirstController,templateUrl:"templates/dialog/create-first.tmpl.html",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0}).then(function(e){t.status='You said the information was "'+e+'".',l=r.FIRST},function(){t.status="You cancelled the dialog."})},t.config_ios=function(e){s.show({controller:ConfigIOSController,templateUrl:"templates/dialog/config-ios.tmpl.html",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0}).then(function(e){t.status='You said the information was "'+e+'".',l=r.IOS},function(){t.status="You cancelled the dialog."})},t.config_android=function(e){s.show({controller:ConfigAndroidController,templateUrl:"templates/dialog/config-android.tmpl.html",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0}).then(function(e){t.status='You said the information was "'+e+'".',l=r.ANDROID},function(){t.status="You cancelled the dialog."})},t.restart_ppmessage=function(t){s.show({controller:RestartController,templateUrl:"templates/dialog/restart-ppmessage.tmpl.html",parent:angular.element(document.body),targetEvent:t,clickOutsideToClose:!0}).then(function(t){l=r.RESTART},function(){})}}]),angular.element(document).ready(function(){angular.bootstrap(document,["this_app"])});